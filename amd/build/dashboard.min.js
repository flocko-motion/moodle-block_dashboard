define(["jquery","core/log"],function(a,b){return{init:function(){var c=this;c.calendars=[];var d=a("html").attr("lang").replace(/-/g,"_").substr(0,2);a(".dashboard-filter-autosubmit").each(function(){var b=/dashboard-auto-([0-9]+)/,d=b.exec(a(this).attr("id")),e=d[1];a(".dashboard-filter-element-"+e).on("change",c.submitdashboardfilter)}),a(".dashboard-filter-submitters").each(function(){a(this).on("click",c.submitdashboardfilter)}),a(".dashboard-param-date").each(function(){var b=a(this).attr("id");c.calendars[b]=new dhtmlXCalendarObject(b),c.calendars[b].loadUserLanguage(d+"_utf8"),c.calendars[b].setSkin("dhx_web")}),a(".dashboard-param-daterange").each(function(){var b=a(this).attr("id");b=b.replace("_from",""),c.calendars[b]=new dhtmlXCalendarObject([b+"_from",b+"_to"]),c.calendars[b].loadUserLanguage(d+"_utf8"),c.calendars[b].setSkin("dhx_web")}),b.debug("Block dashboard AMD initialized")},submitdashboardfilter:function(){var b=a(this),c=/(?:filter|filtersubmit)([0-9]+)_/,d=c.exec(b.attr("name"));if(d){var e=d[1];a("#dashboard-form-"+e).submit()}}}});