define(["jquery","core/log"],function(a,b){return{init:function(c){that=this,that.calendars=[];var d=a("html").attr("lang").replace(/-/g,"_").substr(0,2);a(".dashboard-filter-autosubmit").each(function(){regex=/dashboard-auto-([0-9]+)/,matchs=regex.exec(a(this).attr("id")),blockid=matchs[1],a(".dashboard-filter-element-"+blockid).on("change",that.submitdashboardfilter)}),a(".dashboard-filter-submitters").each(function(){a(this).on("click",that.submitdashboardfilter)}),a(".dashboard-param-date").each(function(){id=a(this).attr("id"),that.calendars[id]=new dhtmlXCalendarObject(id),that.calendars[id].loadUserLanguage(d+"_utf8"),that.calendars[id].setSkin("dhx_web")}),a(".dashboard-param-daterange").each(function(){id=a(this).attr("id"),id=id.replace("_from",""),that.calendars[id]=new dhtmlXCalendarObject([id+"_from",id+"_to"]),that.calendars[id].loadUserLanguage(d+"_utf8"),that.calendars[id].setSkin("dhx_web")}),b.debug("Block dashboard AMD initialized")},submitdashboardfilter:function(b){that=a(this),regex=/(?:filter|filtersubmit)([0-9]+)_/,matchs=regex.exec(that.attr("name")),matchs&&(blockid=matchs[1],a("#dashboard-form-"+blockid).submit())}}});